---
import { getCollection } from 'astro:content';
import BaseHead from '../../components/BaseHead.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
import { Image } from 'astro:assets';

export async function getStaticPaths() {
	const projects = await getCollection('projects');
	return projects.map((project) => ({
		params: { slug: project.slug },
		props: project
	}));
}
const { Content } = await import('../../components/Content.astro');
const { title, description, date, image } = Astro.props.data;
---

<html lang="en">
	<BaseHead title={title} description={description} />
	<body>
		<Header />
		<main>
			<article>
				<h1>{title}</h1>
				<time datetime={date.toISOString()}>
					{date.toLocaleDateString('en-US', {
						year: 'numeric',
						month: 'long',
						day: 'numeric'
					})}
				</time>
				{image && (
					<div class="hero-image">
						<Image src={image} alt={title} />
					</div>
				)}
				<Content />
			</article>
		</main>
		<Footer />
	</body>
</html>

<style>
	main {
		margin: auto;
		padding: 1rem;
		width: 800px;
		max-width: calc(100% - 2rem);
		color: var(--terminal-foreground);
		font-size: 20px;
		line-height: 1.6;
	}

	article {
		margin: 2rem 0;
	}

	h1 {
		color: var(--terminal-purple);
		font-family: 'Fira Code', monospace;
		margin: 0 0 0.5rem 0;
	}

	time {
		color: var(--terminal-comment);
		font-size: 0.9em;
		font-family: 'Fira Code', monospace;
	}

	.hero-image {
		margin: 2rem 0;
		border: 1px solid var(--terminal-border);
		border-radius: 4px;
		overflow: hidden;
	}

	.hero-image img {
		width: 100%;
		height: auto;
		display: block;
	}

	@media (max-width: 720px) {
		main {
			padding: 1rem;
			font-size: 18px;
		}
	}
</style> 